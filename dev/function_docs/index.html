<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Function descriptions · Sensemakr.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://d2cml-ai.github.io/Sensemakr.jl/function_docs/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Sensemakr.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../quickstart/">Quickstart</a></li><li><a class="tocitem" href="../advanced_use/">Advanced usage</a></li><li class="is-active"><a class="tocitem" href>Function descriptions</a><ul class="internal"><li><a class="tocitem" href="#Description-and-analysis-functions"><span>Description and analysis functions</span></a></li><li><a class="tocitem" href="#Plotting-functions"><span>Plotting functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Function descriptions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Function descriptions</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Function-descriptions"><a class="docs-heading-anchor" href="#Function-descriptions">Function descriptions</a><a id="Function-descriptions-1"></a><a class="docs-heading-anchor-permalink" href="#Function-descriptions" title="Permalink"></a></h1><h2 id="Description-and-analysis-functions"><a class="docs-heading-anchor" href="#Description-and-analysis-functions">Description and analysis functions</a><a id="Description-and-analysis-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Description-and-analysis-functions" title="Permalink"></a></h2><p>Sensitivity analysis to unobserved confounders.</p><p>The <code>sensemakr</code> type performs sensitivity analysis to omitted variables as discussed in Cinelli and Hazlett (2020). It is comprized of several sensitivity statistics for reporting. After creating the object, you may directly use the plot and summary methods of the returned object.</p><p><code>sensemakr</code> is a convenience type. You may use the other sensitivity functions of the package directly, such as the functions for sensitivity plots (<code>ovb_contour_plot</code>, <code>ovb_extreme_plot</code>), the functions for computing bias-adjusted estimates and t-values (<code>adjusted_estimate</code>, <code>adjusted_t</code>), the functions for computing the robustness value and partial <span>$R^2$</span> (<code>robustness_value</code>, <code>partial_r2</code>), or the functions for bounding the strength of unobserved confounders (<code>ovb_bounds</code>), among others.</p><article class="docstring"><header><a class="docstring-binding" id="Sensemakr.sensemakr" href="#Sensemakr.sensemakr"><code>Sensemakr.sensemakr</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Sensemakr.sensemakr</code></pre><p>Object comprised of necessary parameters and statistics for sensitivity analysis</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/main.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.summary-Tuple{sensemakr, Int64}" href="#Base.summary-Tuple{sensemakr, Int64}"><code>Base.summary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.summary(sense_obj::sensemakr, digits::Int64 = 3)</code></pre><p>Print a summary of the sensitivity results for <code>sense_obj</code>, including robustness value, extreme confounding scenario, and benchmark bounding.</p><p><strong>Arguments:</strong></p><ul><li><code>sense_obj</code>: object to be summarized.</li><li><code>digits</code> (default: 3): number of digits to round numbers to.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/main.jl#L151-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sensemakr.plot" href="#Sensemakr.plot"><code>Sensemakr.plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Sensemakr.plot(sense_obj::sensemakr; kwargs...)</code></pre><p>Provide the contour and extreme scenario sensitivity plots of the sensitivity analysis results obtained with the function sensemakr</p><p>They are basically dispatchers to the core plot functions ovb<em>contour</em>plot and ovb<em>extreme</em>plot</p><p><strong>Arguments:</strong></p><ul><li><code>sense_obj</code>: object with the statistics to be plotted.</li><li><code>plot_type</code> (default: &quot;contour&quot;): Either &quot;extreme&quot; or &quot;contour&quot;.</li><li><code>sensitivity_of</code> (default: &quot;estimate&quot;): Either &quot;estimate&quot; or &quot;t-value&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/main.jl#L226-L238">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sensemakr.ovb_minimal_reporting" href="#Sensemakr.ovb_minimal_reporting"><code>Sensemakr.ovb_minimal_reporting</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ovb_minimal_reporting(sense_obj::sensemakr, digits::Int64 = 3, res_display::Bool = true)</code></pre><p>This function returns the HTML code for a table summarizing the sensemakr object.</p><p><strong>Arguments:</strong></p><ul><li><code>digits</code> (default: 3): number of digits to round numbers to.</li><li><code>res_display</code> (default: true): whether to display the table.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/main.jl#L304-L313">source</a></section></article><h2 id="Plotting-functions"><a class="docs-heading-anchor" href="#Plotting-functions">Plotting functions</a><a id="Plotting-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-functions" title="Permalink"></a></h2><p><code>Sensemakr</code> provides functions for creating sensitivity contour plots and extreme scenario sensitivity plots. They can be used on an object of class <em>sensemakr</em>, directly with an OLS <code>StatsModels.TableRegressionModel</code> object, or by providing the required statistics manually.</p><article class="docstring"><header><a class="docstring-binding" id="Sensemakr.ovb_contour_plot" href="#Sensemakr.ovb_contour_plot"><code>Sensemakr.ovb_contour_plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ovb_contour_plot(estimate::Float64, se::Float64, dof::Int64, kwargs...)</code></pre><p>Contour plots of omitted variable bias for sensitivity analysis.</p><p>The horizontal axis of the plot shows hypothetical values of the partial R2 of the unobserved confounder(s) with the treatment. The vertical axis shows hypothetical values of the partial R2 of the unobserved confounder(s) with the outcome. The contour levels represent the adjusted estimates (or t-values) of the treatment effect.</p><p>The reference points are the bounds on the partial R2 of the unobserved confounder if it were k times “as strong” as the observed covariates used for benchmarking (see arguments kd and ky). The dotted red line show the chosen critical threshold (for instance, zero): confounders with such strength (or stronger) are sufficient to invalidate the research conclusions. All results are exact for single confounders and conservative for multiple/nonlinear confounders.</p><p>See Cinelli and Hazlett (2020) for details.</p><p><strong>Arguments:</strong></p><ul><li><code>estimate</code>: estimated parameter of the variable of interest</li><li><code>se</code>: standard error of the estimated parameter of the variable of interest</li><li><code>dof</code> degrees of freedom of the estimated regression model</li><li><code>r2dz_x</code> (default: nothing): number or array containing hypothetical partial R2 of unobserved confounder Z with treatment D, given covariates X.</li><li><code>r2yz_dx</code> (default: nothing): number or array containing hypothetical partial R2 of unobserved confounder Z with outcome Y, given covariates X and treatment D.</li><li><code>sensitivity_of</code> (default: &quot;estimate&quot;): either &quot;estimate&quot; or &quot;t-value&quot;</li><li><code>kd</code> (default: 1): a float or vector of floats with each being a multiple of the strength of association between a benchmark variable and the treatment variable to test with benchmark bounding.</li><li><code>ky</code> (default: nothing): a float or vector of floats with each being a multiple of the strength of association between a benchmark variable and the treatment variable to test with benchmark bounding.</li><li><code>benchmark_covariates</code> (default: <code>nothing</code>): a string or vector of strings with the names of the variables to use for benchmarking.</li><li><code>bound_label</code> (default: nothing): label of the bound variable.</li><li><code>reduce</code> (default: true): whether to reduce (true) or increase (false) the estimate due to putative confounding.</li><li><code>estimate_threshold</code> (default: 0): threshold line to emphasize when contours correspond to estimate.</li><li><code>t_threshold</code> (default: 2): threshold line to emphasize when contours correspond to t-value.</li><li><code>lim</code> (default: nothing): x axis maximum.</li><li><code>lim_y</code> (default: nothing): y axis maximum.</li><li><code>col_contour</code> (default: &quot;black&quot;): color of contour lines.</li><li><code>col_thr_line</code> (default: &quot;red&quot;): color of the threshold contour line.</li><li><code>label_text</code> (default: true): whether to include label text.</li><li><code>label_bump_x</code> (default: nothing): x axis position of label above 0.</li><li><code>label_bump_y</code> (default: nothing): y axis position of label above 0.</li><li><code>plot_margin_fraction</code> (default: 0.05): margin fraction added to the top of lim and lim_y.</li><li><code>round_dig</code> (default: 3): rounding digit of the display numbers.</li><li><code>n_levels</code> (default: nothing): maximum number of countours in the plot.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L1-L37">source</a></section><section><div><pre><code class="language-julia hljs">ovb_contour_plot(model::StatsModels.TableRegressionModel, treatment::String, kwargs...)</code></pre><p>Uses <code>model</code> and <code>treatment</code> to obtain the estimate, standard error, and degrees of freedom; it then dispatches them to the relevant method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L156-L160">source</a></section><section><div><pre><code class="language-julia hljs">ovb_contour_plot(sense_obj::sensemakr, kwargs...)</code></pre><p>Extracts the estimate, standard error, and degrees of freedom from <code>sense_obj</code>; it then dispatches them to the relevant method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L175-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sensemakr.add_bound_to_contour" href="#Sensemakr.add_bound_to_contour"><code>Sensemakr.add_bound_to_contour</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_bound_to_contour(r2dz_x::Union{Real, Array{&lt;:Real}}, r2yz_dx::Union{Real, Array{&lt;:Real}}</code></pre><p>Add bound label to the contour plot of omitted variable bias for sensitivity analysis.</p><p>The reference points are the bounds on the partial R2 of the unobserved confounder if it were k times &quot;as strong&quot; as the observed covariate used for benchmarking (see arguments kd and ky).</p><p><strong>Arguments</strong></p><ul><li><code>r2dz_x</code>: partial R^2 of a putative unobserved confounder &quot;z&quot; with the treatment variable &quot;d&quot;, with observed covariates &quot;x&quot; partialed out, as implied by z being kd-times as strong as the benchmark_covariates.</li><li><code>r2yz_dx</code> partial R^2 of a putative unobserved confounder &quot;z&quot; with the outcome variable &quot;y&quot;, with observed covariates &quot;x&quot; and the treatment variable &quot;d&quot; partialed out, as implied by z being ky-times as strong as the benchmark_covariates.</li><li><code>kd</code> (default: 1): a float or vector of floats with each being a multiple of the strength of association between a benchmark variable and the treatment variable to test with benchmark bounding.</li><li><code>ky</code> (default: nothing): same as kd except measured in terms of strength of association with the outcome variable.</li><li><code>bound_value</code> (default: nothing): the value of the reference point.</li><li><code>bound_label</code> (default: nothing): a string that label the reference point.</li><li><code>sensitivity_of</code> (default: nothing): either “estimate” or “t-value”.</li><li><code>label_text</code> (default: true): whether to include the label text.</li><li><code>label_bump_x</code> (default: nothing): x axis position of label above 0.</li><li><code>label_bump_y</code> (default: nothing): y axis position of label above 0.</li><li><code>n_levels</code> (default: nothing): maximum number of countours in the plot.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L371-L391">source</a></section><section><div><pre><code class="language-julia hljs">add_bound_to_contour(bound::DataFrame; kwargs...)</code></pre><p>Extracts r2dz<em>x, r2yz</em>dx, and bound_label vectors from <code>bound</code> and dispatches them to the relevant method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L423-L427">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sensemakr.ovb_extreme_plot" href="#Sensemakr.ovb_extreme_plot"><code>Sensemakr.ovb_extreme_plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ovb_extreme_plot(estimate::Float64, se::Float64, dof::Int64)</code></pre><p>Extreme scenario plots of omitted variable bias for sensitivity analysis.</p><p>The horizontal axis shows the partial R2 of the unobserved confounder(s) with the treatment. The vertical axis shows the adjusted treatment effect estimate. The partial R2 of the confounder with the outcome is represented by different curves for each scenario, as given by the parameter <code>r2yz_dx</code>. The red marks on horizontal axis are bounds on the partial R2 of the unobserved confounder kd times as strong as the covariates used for benchmarking. The dotted red line represent the threshold for the effect estimate deemed to be problematic (for instance, zero).</p><p>See Cinelli and Hazlett (2020) for details.</p><p><strong>Arguments:</strong></p><ul><li><code>estimate</code>: estimated parameter of the variable of interest</li><li><code>se</code>: standard error of the estimated parameter of the variable of interest</li><li><code>dof</code> degrees of freedom of the estimated regression model</li><li><code>sensitivity_of</code> (default: &quot;estimate&quot;): either &quot;estimate&quot; or &quot;t-value&quot;. This function is currently only defined for &quot;estimate&quot;</li><li><code>benchmark_covariates</code> (default: <code>nothing</code>): a string or vector of strings with the names of the variables to use for benchmarking.</li><li><code>kd</code> (default: 1): a float or vector of floats with each being a multiple of the strength of association between a benchmark variable and the treatment variable to test with benchmark bounding.</li><li><code>ky</code> (default: nothing): a float or vector of floats with each being a multiple of the strength of association between a benchmark variable and the treatment variable to test with benchmark bounding.</li><li><code>r2dz_x</code> (default: nothing): a float or vector of floats with the partial R^2 of a putative unobserved confounder &quot;z&quot; with the treatment variable &quot;d&quot;, with observed covariates &quot;x&quot; partialed out, as implied by z being kd-times as strong as the benchmark_covariates.</li><li><code>r2yz_dx</code> (default: [1.0, 0.75, 0.5]): a float or vector of floats with the partial R^2 of a putative unobserved confounder &quot;z&quot; with the outcome variable &quot;y&quot;, with observed covariates &quot;x&quot; and the treatment variable &quot;d&quot; partialed out, as implied by z being ky-times as strong as the benchmark_covariates.</li><li><code>reduce</code> (default: true): whether to reduce (true) or increase (false) the estimate due to putative confounding.</li><li><code>threshold</code> (default: 0): threshold line to emphasize when contours correspond to estimate.</li><li><code>lim</code> (default: nothing): x axis maximum.</li><li><code>lim_y</code> (default: nothing): y axis maximum.</li><li><code>xlab</code> (default: nothing): x axis label text.</li><li><code>ylab</code> (default: nothing): y axis label text.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L194-L220">source</a></section><section><div><pre><code class="language-julia hljs">ovb_extreme_plot(sense_obj::sensemakr; kwargs...)</code></pre><p>Extracts the estimate, standard error, and degrees of freedom from <code>sense_obj</code>; it then dispatches them to the relevant method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/d2cml-ai/Sensemakr.jl/blob/57dfde4797b61586303aab6c7b5dd37429f64b2f/src/sensitivity_plots.jl#L286-L290">source</a></section></article><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../advanced_use/">« Advanced usage</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 27 October 2022 19:21">Thursday 27 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
